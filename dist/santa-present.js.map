{"version":3,"sourceRoot":"/source_map/","sources":["src/santa-present.ts"],"names":[],"mappings":";AAAA,OAAO,EAAC,IAAI,EAAE,GAAG,EAAE,UAAU,EAAC,MAAM,KAAK,CAAC;AAC1C,OAAO,EAAC,aAAa,EAAE,QAAQ,EAAC,MAAM,mBAAmB,CAAC;AAC1D,OAAO,OAAO,MAAM,cAAc,CAAC;AAGnC,IAAa,YAAY,GAAzB,MAAa,YAAa,SAAQ,UAAU;IAA5C;;QAkBE,aAAQ,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;QAG1B,cAAS,GAAG,GAAG,CAAC;QAEhB,cAAS,GAAG,CAAC,CAAC;IAsEhB,CAAC;IA5FC,MAAM,KAAK,MAAM;QACf,OAAO,GAAG,CAAA;;;;;;;;;;;;KAYT,CAAC;IACJ,CAAC;IAWD,IAAI,UAAU;QACZ,OAAO,QAAQ,CAAC,eAAe,CAAC,qBAAqB,EAAE,CAAC,KAAK,CAAC;IAChE,CAAC;IAED,IAAI,WAAW;QACb,OAAO,QAAQ,CAAC,eAAe,CAAC,qBAAqB,EAAE,CAAC,MAAM,CAAC;IACjE,CAAC;IAED,IAAI,CAAC;QACH,OAAO,UAAU,CACf,gBAAgB,CAAC,IAAI,CAAC,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAClE,CAAC;IACJ,CAAC;IAED,IAAI,CAAC,CAAC,KAAK;QACT,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,MAAM,EAAE,GAAG,KAAK,IAAI,CAAC,CAAC;QAE7C,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,qBAAqB,EAAE,CAAC,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE;YAC7E,IAAI,CAAC,MAAM,EAAE,CAAC;SACf;IACH,CAAC;IAED,IAAI,CAAC;QACH,OAAO,UAAU,CACf,gBAAgB,CAAC,IAAI,CAAC,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CACjE,CAAC;IACJ,CAAC;IAED,IAAI,CAAC,CAAC,KAAK;QACT,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,EAAE,GAAG,KAAK,IAAI,CAAC,CAAC;QAC5C,IAAI,KAAK,GAAG,IAAI,CAAC,WAAW,GAAG,EAAE,EAAE;YACjC,IAAI,CAAC,MAAM,EAAE,CAAC;SACf;IACH,CAAC;IAED,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;IAED,IAAI,QAAQ,CAAC,KAAK;QAChB,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,oBAAoB,EAAE,GAAG,KAAK,KAAK,CAAC,CAAC;QAC5D,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACzB,CAAC;IAED,iBAAiB;QACf,KAAK,CAAC,iBAAiB,EAAE,CAAC;QAC1B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC;QACpC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,WAAW,CAAA,CAAC,CAAA,mBAAmB,CAAC;QAC7E,qBAAqB,CAAC,GAAG,EAAE;YACzB,IAAI,CAAC,IAAI,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;IACL,CAAC;IAED,IAAI;QACF,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;QAClC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;QAClC,+CAA+C;QAC/C,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;QACjE,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,eAAe,KAAK,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/D,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC9C,CAAC;IAED,MAAM;QACJ,OAAO,IAAI,CAAA;wCACyB,OAAO;KAC1C,CAAC;IACJ,CAAC;CACF,CAAA;AA3EC;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;;8CACrB;AAG1B;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;;+CAC/B;AArBL,YAAY;IADxB,aAAa,CAAC,eAAe,CAAC;GAClB,YAAY,CA6FxB;SA7FY,YAAY","sourcesContent":["import {html, css, LitElement} from 'lit';\r\nimport {customElement, property} from 'lit/decorators.js';\r\nimport present from './presentURI';\r\n\r\n@customElement('santa-present')\r\nexport class SantaPresent extends LitElement {\r\n  static get styles() {\r\n    return css`\r\n      :host {\r\n        --present-rotation: 0deg;\r\n        display: block;\r\n        position: absolute;\r\n        transform: translate(-50%, -50%) rotate(var(--present-rotation));\r\n      }\r\n\r\n      img {\r\n        display: block;\r\n        height: 50px;\r\n      }\r\n    `;\r\n  }\r\n\r\n  @property({ type: 'Number', attribute: false })\r\n  velocity = { x: 0, y: 0 };\r\n\r\n  @property({ type: 'Number', attribute: false })\r\n  dropSpeed = 0.5;\r\n  \r\n  _rotation = 0;\r\n  rotateDirection: string;\r\n\r\n  get frameWidth() {\r\n    return document.documentElement.getBoundingClientRect().width;\r\n  }\r\n\r\n  get frameHeight() {\r\n    return document.documentElement.getBoundingClientRect().height;\r\n  }\r\n\r\n  get x() {\r\n    return parseFloat(\r\n      getComputedStyle(this).getPropertyValue('left').replace('px', '')\r\n    );\r\n  }\r\n\r\n  set x(value) {\r\n    this.style.setProperty('left', `${value}px`);\r\n\r\n    if (value > this.frameWidth - this.getBoundingClientRect().width || value < 0) {\r\n      this.remove();\r\n    }\r\n  }\r\n\r\n  get y() {\r\n    return parseFloat(\r\n      getComputedStyle(this).getPropertyValue('top').replace('px', '')\r\n    );\r\n  }\r\n\r\n  set y(value) {\r\n    this.style.setProperty('top', `${value}px`);\r\n    if (value > this.frameHeight - 30) {\r\n      this.remove();\r\n    }\r\n  }\r\n\r\n  get rotation() {\r\n    return this._rotation;\r\n  }\r\n\r\n  set rotation(value) {\r\n    this.style.setProperty('--present-rotation', `${value}deg`);\r\n    this._rotation = value;\r\n  }\r\n\r\n  connectedCallback() {\r\n    super.connectedCallback();\r\n    this.rotation = Math.random() * 360;\r\n    this.rotateDirection = Math.random() > 0.5 ? 'clockwise':'counter-clockwise';\r\n    requestAnimationFrame(() => {\r\n      this.move();\r\n    });\r\n  }\r\n\r\n  move() {\r\n    this.x = this.x + this.velocity.x;\r\n    this.y = this.y + this.velocity.y;\r\n    // gravity acc / expected framerate * dropSpeed\r\n    this.velocity.y = this.velocity.y + (9.81 / 60 * this.dropSpeed);\r\n    this.rotation += this.rotateDirection === 'clockwise' ? 1 : -1;\r\n    requestAnimationFrame(this.move.bind(this));\r\n  }\r\n\r\n  render() {\r\n    return html`\r\n      <img src=\"data:image/gif;base64,${present}\" />\r\n    `;\r\n  }\r\n}"]}